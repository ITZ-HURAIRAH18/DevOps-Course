Images vs Containers in Docker

Image: It is the Blue Print of our Project which show all thing that what dependencies are we used in it 
Important: It is Immutable 
For Easier it is look like a class (OOP)

Containers:It is used to run the Image
Important:It is Isolated Means if we have a project that need Node so Docker run this without Node.js
For Easier it is look like a Object (OOP)

Docker Hub vs Docker Desktop

Docker Hub: It i Cloud Platform where we store and pull Images 
Docker Desktop: It is th platform where we can run Docker in out PC

Base (Parent) Image:It is the image like we donot want to write the code of nodejs so we used this import 
from Node like this way

---------------------------------------------------------
 Create a Docker Image for a Node.js App Using Dockerfile

# Use official Node.js runtime as base image
FROM node:20-alpine

# Set working directory
WORKDIR /app

# Copy package.json and package-lock.json
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy application files
COPY . .

# Expose port
EXPOSE 3000

# Start the application
CMD ["node", "index.js"]


Create image: docker build -t name .

-----------------------------------------------------
Run Docker Image Inside a Container
-----------------------------
Create & Manage Multiple Docker Images

docker system prune -a (This command is used to delete all images in docker)

docker build -t (name) . (Used to create image)

docker images (used to check all images)

docker build -t (name:v2) . (Used to create image after changes in Project)


---------------------------------------------
 Volumes Explained! | Why Use Volumes in Docker Containers?

 We used this with Container. Because when we change it local it automatically appear on docker container

 Add node nodemon and in terminal run this command 

 docker run  --name my-container -p 3000:3000 --rm -v "E:/Courses/DevOps/Create a Docker Image/app" app

 ---------------------------------------------
 Compose.yaml File Explained

This is the file where we make image of all we need like DB and project and run with single file

version: "3.9"

services:
  app:
    image: node:18
    container_name: node_app
    working_dir: /app
    volumes:
      - ./app:/app
    ports:
      - "3000:3000"
    command: npm start
    depends_on:
      - mongo

  mongo:
    image: mongo:6
    container_name: mongo_db
    ports:
      - "27017:27017"
    volumes:
      - mongo_data:/data/db

volumes:
  mongo_data:
 
Run this file with:docker compose up
Stop Container with: docker compose down
---------------------------------------------------------
 How to Upload Image on Docker Hub
 -------------------------
 Play with Docker (It is platform where we run Docker iamge with Local setup)

--------------------------------------------
Docker: Setup & Run GitLab on Docker 

First Download Gitlab image from Google 
run it through 
docker run -p 8000:80 gitlab/gitlab-ce:nightly

go to http://localhost:8000/users/sign_in

In Docker Termial run this( docker ps) an get Conatiner id (0bcf18828b1b)

Then run this to grt password:
docker exec -it 0bcf18828b1b cat /etc/gitlab/initial_root_password

Username:root
password:acpMuxRs3MZw5iCXSMinH/ee42VJCsosHpY2AuES9NA=

Now you are Signin into Local GItlab Enjoy it

-----------------------------------------
GitLab Server with Docker Compose

docker-compose.yml
version: '3.8'

services:
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    hostname: gitlab.localhost
    restart: always

    ports:
      - "8080:80"
      - "8443:443"
      - "2222:22"

   

    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://localhost:8080'
        gitlab_rails['gitlab_shell_ssh_port'] = 2222

volumes:
  gitlab_config:
  gitlab_logs:
  gitlab_data:


Start GitLab
docker-compose up -d

Get Root Password
docker exec -it gitlab cat /etc/gitlab/initial_root_password

URL: http://localhost:8080

Username: root

Password: (from terminal)
--------------------------
Gitlab server with Volume
 version: '3.8'

services:
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    hostname: localhost
    restart: always

    ports:
      - "3000:80"     # GitLab Web
      - "8443:443"    # HTTPS (optional)
      - "2222:22"     # SSH

    volumes:
      - gitlab_config:/etc/gitlab
      - gitlab_logs:/var/log/gitlab
      - gitlab_data:/var/opt/gitlab

    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://localhost:3000'
        gitlab_rails['gitlab_shell_ssh_port'] = 2222
        gitlab_rails['initial_root_password'] = 'root'
        gitlab_rails['initial_root_email'] = 'root@local.com'

volumes:
  gitlab_config:
  gitlab_logs:
  gitlab_data:

----------------------------------------------------
Gitlab Server & Gitlab Runner

GitLab Server:IT is local Gitlab
GitLab Runner:it is the agent that can do CI/CD









